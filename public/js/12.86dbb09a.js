(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"69ec":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"table-bg no-shadow"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("\n      HOME\n    ")])]),a("q-separator",{attrs:{color:"white"}}),a("q-card-section",{staticClass:"q-pa-none"},[a("q-table",{staticClass:"table-bg",attrs:{data:e.home,columns:e.columns,filter:e.filter,pagination:e.pagination,"hide-bottom":""},scopedSlots:e._u([e.isHomeCreated?null:{key:"top-right",fn:function(){return[a("q-btn",{staticClass:"float-right text-capitalize",attrs:{color:"positive",icon:"add"},on:{click:function(t){e.homeDialog=!0}}})]},proxy:!0},{key:"body-cell-Action",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{icon:"edit",size:"sm",flat:"",dense:""},on:{click:function(a){return e.editHome(t.row)}}})],1)]}},{key:"body-cell-Slider-Image",fn:function(t){return[a("q-td",{attrs:{props:t}},[t.row.slider_url?a("q-img",{attrs:{src:"https://admin.pediapp.com.ar/images/"+t.row.slider_url,height:"auto",width:"100px",ratio:1}}):e._e()],1)]}},{key:"body-cell-Support-Image",fn:function(t){return[a("q-td",{attrs:{props:t}},[t.row.support_image_url?a("q-img",{attrs:{src:"https://admin.pediapp.com.ar/images/"+t.row.support_image_url,height:"auto",width:"100px",ratio:1}}):e._e()],1)]}},{key:"body-cell-Banner-Image-1",fn:function(t){return[a("q-td",{attrs:{props:t}},[t.row.banner_image_1_url?a("q-img",{attrs:{src:"https://admin.pediapp.com.ar/images/"+t.row.banner_image_1_url,height:"auto",width:"100px",ratio:1}}):e._e()],1)]}},{key:"body-cell-Banner-Image-2",fn:function(t){return[a("q-td",{attrs:{props:t}},[t.row.banner_image_2_url?a("q-img",{attrs:{src:"https://admin.pediapp.com.ar/images/"+t.row.banner_image_2_url,height:"auto",width:"100px",ratio:1}}):e._e()],1)]}},{key:"body-cell-Description",fn:function(t){return[a("q-td",{attrs:{props:t}},[e._v("\n          "+e._s(t.row.description.substr(0,25)+"…")+"\n        ")])]}}],null,!0)})],1),a("q-dialog",{model:{value:e.homeDialog,callback:function(t){e.homeDialog=t},expression:"homeDialog"}},[a("q-card",{staticStyle:{"min-width":"750px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v(e._s(e.formTitle))])]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mx-sm"},[a("q-input",{attrs:{dense:"",label:"Titulo"},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})],1)]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col q-mx-sm"},[a("q-input",{attrs:{dense:"",clearable:"",autogrow:"",label:"Descripción",type:"textarea"},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1)]),a("div",{staticClass:"row q-mt-md justify-center"},[a("div",{staticClass:"col-6 q-mx-sm"},[a("q-file",{attrs:{rounded:"",outlined:"",type:"file","bottom-slots":"",label:"Slider",counter:"","max-file-size":"2097152","max-files":"1",accept:".jpg, image/*"},on:{rejected:e.onRejected},scopedSlots:e._u([{key:"before",fn:function(){return[a("q-icon",{attrs:{name:"attachment"}})]},proxy:!0},{key:"append",fn:function(){return[null!==e.editedItem.slider_url?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.editedItem.slider_url=null}}}):e._e(),a("q-icon",{attrs:{name:"search"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v("\n                Tamaño máximo 2MB\n              ")]},proxy:!0}]),model:{value:e.editedItem.slider_image,callback:function(t){e.$set(e.editedItem,"slider_image",t)},expression:"editedItem.slider_image"}})],1)]),a("div",{staticClass:"row q-mt-md justify-center"},[a("div",{staticClass:"col-6 q-mx-sm"},[a("q-file",{attrs:{rounded:"",outlined:"",type:"file","bottom-slots":"",label:"Imagen soporte",counter:"","max-file-size":"2097152","max-files":"1",accept:".jpg, image/*"},on:{rejected:e.onRejected},scopedSlots:e._u([{key:"before",fn:function(){return[a("q-icon",{attrs:{name:"attachment"}})]},proxy:!0},{key:"append",fn:function(){return[null!==e.editedItem.support_image_url?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.editedItem.support_image_url=null}}}):e._e(),a("q-icon",{attrs:{name:"search"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v("\n                Tamaño máximo 2MB\n              ")]},proxy:!0}]),model:{value:e.editedItem.support_image,callback:function(t){e.$set(e.editedItem,"support_image",t)},expression:"editedItem.support_image"}})],1)]),a("div",{staticClass:"row q-mt-md justify-center"},[a("div",{staticClass:"col-6 q-mx-sm"},[a("q-file",{attrs:{rounded:"",outlined:"",type:"file","bottom-slots":"",label:"Imagen Banner 1",counter:"","max-file-size":"2097152","max-files":"1",accept:".jpg, image/*"},on:{rejected:e.onRejected},scopedSlots:e._u([{key:"before",fn:function(){return[a("q-icon",{attrs:{name:"attachment"}})]},proxy:!0},{key:"append",fn:function(){return[null!==e.editedItem.banner_image_1_url?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.editedItem.banner_image_1_url=null}}}):e._e(),a("q-icon",{attrs:{name:"search"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v("\n                Tamaño máximo 2MB\n              ")]},proxy:!0}]),model:{value:e.editedItem.banner_image_1,callback:function(t){e.$set(e.editedItem,"banner_image_1",t)},expression:"editedItem.banner_image_1"}})],1)]),a("div",{staticClass:"row q-mt-md justify-center"},[a("div",{staticClass:"col-6 q-mx-sm"},[a("q-file",{attrs:{rounded:"",outlined:"",type:"file","bottom-slots":"",label:"Imagen Banner 2",counter:"","max-file-size":"2097152","max-files":"1",accept:".jpg, image/*"},on:{rejected:e.onRejected},scopedSlots:e._u([{key:"before",fn:function(){return[a("q-icon",{attrs:{name:"attachment"}})]},proxy:!0},{key:"append",fn:function(){return[null!==e.editedItem.banner_image_2_url?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.editedItem.banner_image_2_url=null}}}):e._e(),a("q-icon",{attrs:{name:"search"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v("\n                Tamaño máximo 2MB\n              ")]},proxy:!0}]),model:{value:e.editedItem.banner_image_2,callback:function(t){e.$set(e.editedItem,"banner_image_2",t)},expression:"editedItem.banner_image_2"}})],1)])]),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancelar"},on:{click:e.close}}),a("q-btn",{attrs:{flat:"",label:e.formTitle},on:{click:e.save}})],1)],1)],1)],1)},n=[],r=(a("cca6"),a("a4d3"),a("e01a"),a("758b")),o={name:"HomeTable",created:function(){this.getHome()},data:function(){return{home:[],filter:"",columns:[{name:"Id",label:"ID",field:"id",sortable:!0,align:"left"},{name:"Title",label:"Titulo",field:"title",sortable:!0,align:"left"},{name:"Slider-Image",label:"Slider",field:"slider_url",sortable:!0,align:"left"},{name:"Description",label:"Descripción",field:"description",sortable:!0,align:"left"},{name:"Support-Image",label:"Imagen soporte",field:"support_image_url",sortable:!0,align:"left"},{name:"Banner-Image-1",label:"Imagen banner 1",field:"banner_image_1_url",sortable:!0,align:"left"},{name:"Banner-Image-2",label:"Imagen banner 2",field:"banner_image_2_url",sortable:!0,align:"left"},{name:"Action",label:"",field:"Action",sortable:!1,align:"center"}],pagination:{rowsPerPage:0},homeDialog:!1,editedIndex:-1,editedItem:{title:"",slider_image:null,description:"",support_image:null,slider_url:"",support_image_url:"",banner_image_1_url:"",banner_image_2_url:""},defaultItem:{title:"",slider_image:null,description:"",support_image:null,slider_url:"",support_image_url:"",banner_image_1:null,banner_image_1_url:"",banner_image_2:null,banner_image_2_url:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Crear Home":"Editar Home"},isHomeCreated:function(){return 0!==this.home.length}},methods:{getHome:function(){var e=this;r["a"].get("home").then((function(t){e.home=t.data})).catch((function(e){console.log("error"+e)}))},editHome:function(e){this.editedIndex=this.home.indexOf(e),this.editedItem=Object.assign({},e),this.homeDialog=!0},close:function(){var e=this;this.homeDialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this,t=new FormData;if(t.set("title",this.editedItem.title),t.set("description",this.editedItem.description),t.append("slider_image",this.editedItem.slider_image),t.append("support_image",this.editedItem.support_image),t.append("banner_1_image",this.editedItem.banner_image_1),t.append("banner_2_image",this.editedItem.banner_image_2),this.editedIndex>-1){var a=this.editedIndex;r["a"].put("home/editHome/".concat(this.home[a].id),t).then((function(t){Object.assign(e.home[a],{id:t.data.id,title:t.data.title,description:t.data.description,slider_image:null,support_image:null,slider_url:t.data.slider_url,support_image_url:t.data.support_image_url,banner_image_1:null,banner_image_1_url:t.data.banner_image_1_url,banner_image_2:null,banner_image_2_url:t.data.banner_image_2_url})})).catch((function(e){console.log(e)}))}else r["a"].post("home/addHome",t).then((function(t){e.sections.push({id:t.data.id,title:t.data.title,description:t.data.description,slider_image:null,support_image:null,slider_url:t.data.slider_url,support_image_url:t.data.support_image_url,banner_image_1:null,banner_image_1_url:t.data.banner_image_1_url,banner_image_2:null,banner_image_2_url:t.data.banner_image_2_url})})).catch((function(e){console.log(e.response.data.errors.message)}));this.close()},onRejected:function(){this.$q.notify({type:"negative",message:"Archivo no permitido"})}}},l=o,s=a("2877"),d=a("f09f"),c=a("a370"),m=a("eb85"),u=a("eaac"),p=a("9c40"),_=a("db86"),g=a("068f"),f=a("24e8"),b=a("27f9"),h=a("7d53"),I=a("0016"),x=a("4b7e"),q=a("eebe"),y=a.n(q),k=Object(s["a"])(l,i,n,!1,null,null,null);t["default"]=k.exports;y()(k,"components",{QCard:d["a"],QCardSection:c["a"],QSeparator:m["a"],QTable:u["a"],QBtn:p["a"],QTd:_["a"],QImg:g["a"],QDialog:f["a"],QInput:b["a"],QFile:h["a"],QIcon:I["a"],QCardActions:x["a"]})}}]);